<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>مكتبة الأصناف</title>
  <link rel="stylesheet" href="css/food-items.css" />
</head>
<body>
  <header class="topbar">
    <div class="left">
      <button id="btnLogout" class="btn sm danger">خروج</button>
      <span class="admin" id="adminName">—</span>
    </div>

    <div class="right gap-8">
      <button id="btnAdd" class="btn primary">إضافة صنف</button>
      <button id="btnRefresh" class="btn">تحديث</button>
      <button id="btnExport" class="btn">تصدير إلى Excel</button>

      <label class="file-btn">
        <input type="file" id="fileExcel" accept=".xlsx,.xls" hidden />
        <span class="btn">استيراد من Excel</span>
      </label>
    </div>
  </header>

  <section class="filters row gap-8">
    <input id="txtSearch" class="input grow" placeholder="بحث بالاسم/الوصف/الوسم" />
    <select id="ddlCategory" class="input w160">
      <option value="">(الكل)</option>
      <option>نشويات</option>
      <option>منتجات الحليب</option>
      <option>الفاكهة</option>
      <option>الخضروات</option>
      <option>منتجات اللحوم</option>
      <option>الدهون</option>
      <option>الحلويات</option>
      <option>أخرى</option>
    </select>

    <label class="chk">
      <input type="checkbox" id="chkActive" checked />
      <span>نشط فقط</span>
    </label>
  </section>

  <main>
    <div id="cards" class="cards"></div>
  </main>

  <!-- Modal -->
  <dialog id="dlg" class="modal">
    <form method="dialog" class="panel">
      <div class="modal-head">
        <h3 id="dlgTitle">إضافة صنف</h3>
        <button id="dlgClose" class="icon">×</button>
      </div>

      <div class="grid-3 gap-12">
        <!-- عمود 1 -->
        <div>
          <label>الاسم (AR)</label>
          <input id="f_nameAR" class="input" placeholder="مثال: خبز مصري" />

          <label class="mt-8">الفئة</label>
          <input id="f_category" class="input" list="catList" placeholder="اختر/اكتب الفئة" />
          <datalist id="catList">
            <option>نشويات</option>
            <option>منتجات الحليب</option>
            <option>الفاكهة</option>
            <option>الخضروات</option>
            <option>منتجات اللحوم</option>
            <option>الدهون</option>
            <option>الحلويات</option>
            <option>أخرى</option>
          </datalist>

          <label class="mt-8">رابط صورة</label>
          <input id="f_imageUrl" class="input" placeholder="https://..." />

          <label class="mt-8">GI</label>
          <input id="f_gi" class="input" type="number" step="1" />
        </div>

        <!-- عمود 2 القيم الغذائية لكل 100g -->
        <div>
          <div class="group-title">القيم الغذائية لكل 100g</div>
          <div class="grid-2 gap-8">
            <div>
              <label>السعرات (kcal)</label>
              <input id="n_cal" class="input" type="number" step="1" />
            </div>
            <div>
              <label>الكارب (g)</label>
              <input id="n_carb" class="input" type="number" step="0.1" />
            </div>
            <div>
              <label>الدهون (g)</label>
              <input id="n_fat" class="input" type="number" step="0.1" />
            </div>
            <div>
              <label>البروتين (g)</label>
              <input id="n_protein" class="input" type="number" step="0.1" />
            </div>
            <div>
              <label>الصوديوم (mg)</label>
              <input id="n_sodium" class="input" type="number" step="1" />
            </div>
            <div>
              <label>الألياف (g)</label>
              <input id="n_fiber" class="input" type="number" step="0.1" />
            </div>
          </div>

          <label class="mt-8 chk">
            <input type="checkbox" id="f_active" checked />
            <span>نشط</span>
          </label>
        </div>

        <!-- عمود 3 الذكاء والوسوم -->
        <div>
          <label>وسوم (Tags)</label>
          <div id="chipsTags" class="chips"></div>
          <div class="muted mt-4">اقتراحات الوسوم</div>
          <div id="chipsTagsSug" class="chips sug"></div>

          <label class="mt-12">الأنظمة الصحية (Diets)</label>
          <div id="chipsDiets" class="chips"></div>

          <button type="button" id="btnAutoSuggest" class="btn mt-8">توليد تلقائي</button>

          <div class="muted mt-4">اقتراحات الأنظمة</div>
          <div id="chipsDietsSug" class="chips sug"></div>
        </div>
      </div>

      <div class="footer">
        <button id="btnSave" type="button" class="btn primary">حفظ</button>
        <button id="btnCancel" class="btn">إلغاء</button>
      </div>
    </form>
  </dialog>

  <script type="module" src="js/food-items.js"></script>
</body>
</html>
