<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ุงูุฃุตูุงู - Sugar Kids</title>
  <link rel="stylesheet" href="./css/food-items.css" />
</head>
<body>

  <header class="app-header">
    <div class="brand">
      <span class="logo">๐</span>
      <h1>ุงูุฃุตูุงู</h1>
    </div>

    <div class="header-actions">
      <button id="btn-add" class="btn primary">+ ุฅุถุงูุฉ ุตูู</button>
      <div class="view-toggle">
        <button id="btn-cards" class="btn toggle active">ุจุทุงูุงุช</button>
        <button id="btn-table" class="btn toggle">ุฌุฏูู</button>
      </div>
    </div>

    <!-- ุดุงุฑุฉ ุงูุฃุฏูู -->
    <div class="admin-pill" id="admin-pill">
      <span class="avatar">๐ค</span>
      <span id="admin-name" class="name">ุบูุฑ ูุณุฌูู</span>
      <span id="admin-role" class="role"></span>
      <button id="btn-auth" class="btn light" style="margin-inline-start:8px">ุชุณุฌูู ุงูุฏุฎูู</button>
    </div>
  </header>

  <section class="filters-card card">
    <div class="filters-row">
      <div class="filter small">
        <label>ูุดุท ููุท</label>
        <input id="filter-active" type="checkbox" checked />
      </div>

      <div class="filter">
        <label>ูุธุงู ุบุฐุงุฆู</label>
        <select id="filter-diet">
          <option value="">ุงููู</option>
          <option value="lowGi">ููุฎูุถ GI</option>
          <option value="glutenFree">ุจุฏูู ุฌููุชูู</option>
          <option value="dairyFree">ุจุฏูู ุฃูุจุงู</option>
          <option value="vegan">ูุจุงุชู</option>
          <option value="keto">ููุชู</option>
        </select>
      </div>

      <div class="filter">
        <label>ุงููุฆุฉ</label>
        <select id="filter-category">
          <option value="">ุงููู</option>
          <option value="fruits">ูุงููุฉ</option>
          <option value="vegetables">ุฎุถุฑูุงุช</option>
          <option value="dairy">ุฃูุจุงู</option>
          <option value="grains">ุญุจูุจ/ูุดููุงุช</option>
          <option value="protein">ุจุฑูุชูู</option>
          <option value="snacks">ุณูุงูุณ</option>
          <option value="drinks">ูุดุฑูุจุงุช</option>
          <option value="other">ุฃุฎุฑู</option>
        </select>
      </div>

      <div class="filter grow">
        <label>ุจุญุซ</label>
        <input id="search" type="text" placeholder="ุงุจุญุซ ุจุงูุงุณู ุฃู ุงููุณูู #..." />
      </div>

      <div class="filter">
        <label>&nbsp;</label>
        <button id="btn-clear" class="btn light">ูุณุญ ุงูููุงุชุฑ</button>
      </div>
    </div>
  </section>

  <main class="content">
    <!-- Cards view -->
    <div id="cards" class="cards"></div>

    <!-- Table view -->
    <div id="table-wrap" class="table-wrap" hidden>
      <table class="data-table">
        <thead>
          <tr>
            <th>ุงูุตูุฑุฉ</th>
            <th>ุงูุงุณู</th>
            <th>ุงููุฆุฉ</th>
            <th>ูุดุท</th>
            <th>ุชุบุฐูุฉ (ููุฎูุต)</th>
            <th>ููุงุฏูุฑ</th>
            <th>ุฅุฌุฑุงุกุงุช</th>
          </tr>
        </thead>
        <tbody id="table-body"></tbody>
      </table>
    </div>

    <div class="pager">
      <button id="prev" class="btn light" disabled>ุงูุณุงุจู</button>
      <span id="page-label" class="muted">ุตูุญุฉ 1</span>
      <button id="next" class="btn light" disabled>ุงูุชุงูู</button>
    </div>
  </main>

  <!-- Dialog (ุฅุถุงูุฉ/ุชุนุฏูู) -->
  <dialog id="edit-dialog" class="dialog">
    <form id="edit-form" method="dialog">
      <header class="dialog-header">
        <h3 id="dlg-title">ุฅุถุงูุฉ ุตูู</h3>
        <button type="button" class="icon-btn" id="dlg-close" aria-label="ุฅุบูุงู">โ</button>
      </header>

      <section class="dlg-body grid">
        <input type="hidden" id="item-id" />

        <div class="form-group">
          <label>ุงูุงุณู</label>
          <input id="name" required placeholder="ูุซุงู: ุฃุฑุฒ ูุณููู" />
        </div>

        <div class="form-group">
          <label>ุงููุฆุฉ</label>
          <select id="category" required>
            <option value="">ุงุฎุชุฑ...</option>
            <option value="fruits">ูุงููุฉ</option>
            <option value="vegetables">ุฎุถุฑูุงุช</option>
            <option value="dairy">ุฃูุจุงู</option>
            <option value="grains">ุญุจูุจ/ูุดููุงุช</option>
            <option value="protein">ุจุฑูุชูู</option>
            <option value="snacks">ุณูุงูุณ</option>
            <option value="drinks">ูุดุฑูุจุงุช</option>
            <option value="other">ุฃุฎุฑู</option>
          </select>
        </div>

        <div class="form-group small">
          <label>ูุดุท</label>
          <label class="switch">
            <input id="isActive" type="checkbox" checked />
            <span></span>
          </label>
        </div>

        <div class="form-group grow">
          <label>ูุณูู ุจุญุซ (ุงุฎุชูุงุฑู)</label>
          <input id="searchTags" placeholder="ุงูุชุจ ูููุงุช ููุชุงุญูุฉ...">
          <small class="muted">ุชูุณุชุฎุฏู ููุจุญุซ ุงูุนุงู (ูุซุงู: ุฃุฑุฒุ ูุดููุงุชุ ูุงูุญ...).</small>
        </div>

        <div class="form-group">
          <label>ูุณูู ุงููุธุงู ุงูุบุฐุงุฆู</label>
          <div id="diet-chips" class="chips"></div>
          <div class="row" style="gap:8px">
            <button type="button" id="btn-ai-tags" class="btn light">ุชูููุฏ ุชููุงุฆู ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู</button>
            <small class="muted">ูุชู ุงูุงูุชุฑุงุญ ูู ุงูููู ุงูุบุฐุงุฆูุฉ ููููู ุชุนุฏูู ุงููุณูู ูุฏูููุง.</small>
          </div>
        </div>

        <!-- ุงูููุงุฏูุฑ ุงูุจูุชูุฉ -->
        <fieldset class="fieldset">
          <legend>ุงูููุงุฏูุฑ ุงูุจูุชูุฉ</legend>
          <div id="measures-list"></div>
          <div class="row">
            <button type="button" id="add-measure" class="btn light">+ ุฅุถุงูุฉ ููุฏุงุฑ</button>
            <small class="muted">ุฃูุซูุฉ: ููุนูุฉุ ููุจุ ุทุจูุ ุญุจุฉ</small>
          </div>
        </fieldset>

        <!-- ุงูููู ุงูุบุฐุงุฆูุฉ -->
        <fieldset class="fieldset">
          <legend>ุงูููู ุงูุบุฐุงุฆูุฉ (ููู 100 ุฌู)</legend>
          <div class="grid nutr-grid">
            <div class="form-group">
              <label>ุณุนุฑุงุช (kcal)</label>
              <input id="cal_kcal" type="number" step="0.1" placeholder="ูุซุงู: 130">
            </div>
            <div class="form-group">
              <label>ูุฑุจูููุฏุฑุงุช (ุฌู)</label>
              <input id="carbs_g" type="number" step="0.1">
            </div>
            <div class="form-group">
              <label>ุจุฑูุชูู (ุฌู)</label>
              <input id="protein_g" type="number" step="0.1">
            </div>
            <div class="form-group">
              <label>ุฏููู (ุฌู)</label>
              <input id="fat_g" type="number" step="0.1">
            </div>
            <div class="form-group">
              <label>ุฃููุงู (ุฌู)</label>
              <input id="fiber_g" type="number" step="0.1">
            </div>
            <div class="form-group">
              <label>ุตูุฏููู (ููุฌ)</label>
              <input id="sodium_mg" type="number" step="1">
            </div>
          </div>
        </fieldset>

        <!-- ุงูุตูุฑุฉ -->
        <div class="form-group">
          <label>ุงูุตูุฑุฉ</label>
          <div class="image-uploader">
            <img id="preview" alt="ูุนุงููุฉ" />
            <div class="uploader-actions">
              <input id="image-url" placeholder="ุฑุงุจุท ุงูุตูุฑุฉ (ุงุฎุชูุงุฑู)" />
              <input id="image-file" type="file" accept="image/*" />
              <progress id="upload-progress" value="0" max="100"></progress>
              <button id="btn-upload" type="button" class="btn">ุฑูุน ููุตูู</button>
            </div>
          </div>
          <small class="muted">ูููู ุฅุฏุฎุงู ุฑุงุจุท ูุจุงุดุฑ ููุตูุฑุฉ ุฃู ุงุฎุชูุงุฑ ููู ูู ุฌูุงุฒู. ุนูุฏ ุงูุฑูุน ูุชู ุงูุญูุธ ูู Storage ูููููุฃ ุงูุฑุงุจุท ุชููุงุฆููุง.</small>
        </div>
      </section>

      <footer class="dlg-footer">
        <button type="submit" class="btn primary" id="save">ุญูุธ</button>
        <button type="button" class="btn danger" id="delete" hidden>ุญุฐู</button>
      </footer>
    </form>
  </dialog>

  <!-- ุงูุชููุฆุฉ ุงูููุญุฏุฉ ุซู ููุฏ ุงูุตูุญุฉ -->
  <script type="module" src="./js/firebase-config.js"></script>
  <script type="module" src="./js/food-items.js"></script>
</body>
</html>
