<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ุงูุฒูุงุฑุงุช ุงูุทุจูุฉ</title>
  <link rel="stylesheet" href="css/visits.css">
  <link rel="icon" href="data:,">
</head>
<body>
  <div class="container">

    <!-- ุฑุฃุณ ุงูุตูุญุฉ -->
    <header class="top">
      <button class="back" onclick="history.back()">โฌ ุฑุฌูุน</button>
      <div class="child-card">
        <h1>๐ฉบ ุฒูุงุฑุงุช ุทุจูุฉ โ <span id="childName">...</span></h1>
        <p id="childMeta">โ</p>
        <div class="stats">
          <span class="badge">ุฃูุฑุจ ูุชุงุจุนุฉ: <strong id="nextFollowUp">โ</strong></span>
          <span class="badge">ุชุนูููุงุช ููุฏ ุงูุชูููุฐ: <strong id="pendingCount">0</strong></span>
          <span class="badge">ุขุฎุฑ ุฒูุงุฑุฉ: <strong id="lastVisit">โ</strong></span>
        </div>
      </div>
    </header>

    <!-- ุดุฑูุท ุงูุฃุฒุฑุงุฑ -->
    <section class="actions card">
      <button id="newVisitBtn">โ ุฅุถุงูุฉ ุฒูุงุฑุฉ</button>
    </section>

    <!-- ุฐูุงุก ูุณุงุนุฏ -->
    <section class="ai card">
      <h3>๐ก ุงูุชุฑุงุญุงุช ุฐููุฉ</h3>
      <ul id="aiList">
        <li>ุณูุชู ุชุญููู ุขุฎุฑ 7 ุฃูุงู ูู ุงูููุงุณุงุช ูุงูุชุฑุงุญ ููุงุท ููุทุจูุจโฆ</li>
      </ul>
    </section>

    <!-- ุฌุฏูู ุงูุฒูุงุฑุงุช -->
    <section class="card">
      <div class="table-head">
        <h3>ุณุฌู ุงูุฒูุงุฑุงุช</h3>
      </div>
      <div id="visitsList" class="list"></div>
    </section>

  </div>

  <!-- ูุงูุฐุฉ ููุจุซูุฉ: ุฅุถุงูุฉ/ุชุนุฏูู ุฒูุงุฑุฉ -->
  <div id="visitModal" class="modal hidden">
    <div class="modal-body">
      <div class="modal-header">
        <h3 id="modalTitle">ุฅุถุงูุฉ ุฒูุงุฑุฉ</h3>
        <button id="closeModal" class="close">โ</button>
      </div>

      <form id="visitForm" class="grid" novalidate>
        <div class="field">
          <label>ุชุงุฑูุฎ ุงูุฒูุงุฑุฉ</label>
          <input type="date" id="date" required>
        </div>
        <div class="field">
          <label>ููุช ุงูุฒูุงุฑุฉ (ุงุฎุชูุงุฑู)</label>
          <input type="time" id="time">
        </div>
        <div class="field">
          <label>ููุน ุงูุฒูุงุฑุฉ</label>
          <select id="type" required>
            <option value="">ุงุฎุชุฑ ุงูููุน</option>
            <option>ูุชุงุจุนุฉ ุฏูุฑูุฉ</option>
            <option>ุทุงุฑุฆุฉ</option>
            <option>ูุญุต ูุนููู</option>
            <option>ุงุณุชุดุงุฑุฉ ุฃูููุงูู</option>
          </select>
        </div>
        <div class="field">
          <label>ุงุณู ุงูุทุจูุจ/ุงููุฑูุฒ</label>
          <input type="text" id="doctorName" placeholder="ูุซุงู: ุฏ/ ูุญูุฏ ุนูู" required>
        </div>
        <div class="field wide">
          <label>ุณุจุจ ุงูุฒูุงุฑุฉ</label>
          <input type="text" id="reason" placeholder="ูุซุงู: ูุชุงุจุนุฉ ุฌุฑุนุงุช / ูุจูุท ูุชูุฑุฑ">
        </div>
        <div class="field wide">
          <label>ุฎูุงุตุฉ/ุชุดุฎูุต ุงูุทุจูุจ</label>
          <textarea id="summary" rows="3" placeholder="ููุฎุต ุงูุฒูุงุฑุฉ"></textarea>
        </div>
        <div class="field wide">
          <label>ุชูุตูุงุช ุงูุทุจูุจ</label>
          <textarea id="recommendations" rows="3" placeholder="ุชุนูููุงุช/ุชูุตูุงุช"></textarea>
        </div>
        <div class="field">
          <label>ุชุนุฏูู ุทููู ุงูููุนูู (ุงุฎุชูุงุฑู)</label>
          <input type="text" id="longActingChange" placeholder="ูุซุงู: Lantus +1U ูููุงู">
        </div>
        <div class="field">
          <label>ุชุนุฏููุงุช ุฌุฑุนุงุช ุงููุฌุจุงุช (ุงุฎุชูุงุฑู)</label>
          <input type="text" id="mealDosesChange" placeholder="ูุซุงู: ูุทูุฑ +0.5U">
        </div>
        <div class="field wide">
          <label>ูุญูุตุงุช ูุทููุจุฉ (ุงูุตููุง ุจููุงุตู)</label>
          <input type="text" id="labsRequested" placeholder="HbA1c, Lipid Profile, TSH">
        </div>
        <div class="field">
          <label>ุชุงุฑูุฎ ูุชุงุจุนุฉ ููุชุฑุญ (ุงุฎุชูุงุฑู)</label>
          <input type="date" id="followUpDate">
        </div>
        <div class="field">
          <label>ุชู ุชุทุจูู ุงูุชูุตูุงุชุ</label>
          <select id="applied">
            <option value="false">ุจุงูุชุธุงุฑ ุงูุชุทุจูู</option>
            <option value="true">ุชู ุงูุชุทุจูู</option>
          </select>
        </div>

        <!-- ุงููุฑููุงุช -->
        <div class="field wide">
          <label>ูุฑููุงุช (ุตูุฑ/PDF) โ ูููู ุงุฎุชูุงุฑ ุนุฏุฉ ูููุงุช</label>
          <input type="file" id="attachments" multiple accept=".png,.jpg,.jpeg,.pdf,.webp">
          <div id="selectedFiles" class="files"></div>
        </div>

        <!-- ุงููุฑููุงุช ุงูุญุงููุฉ ุนูุฏ ุงูุชุนุฏูู -->
        <div class="field wide hidden" id="existingWrap">
          <label>ุงููุฑููุงุช ุงูุญุงููุฉ</label>
          <div id="existingFiles" class="files"></div>
        </div>

        <div class="form-actions">
          <button type="submit" id="saveVisitBtn">ุญูุธ</button>
          <button type="button" id="cancelVisitBtn" class="secondary">ุฅูุบุงุก</button>
        </div>
      </form>
    </div>
  </div>

  <script type="module" src="js/visits.js"></script>
</body>
</html>
