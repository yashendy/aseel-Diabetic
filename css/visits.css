:root{
  --bg:#F0F8FF; --card:#fff; --border:#e6eef7; --text:#333; --muted:#666;
  --primary:#4CAF50; --accent:#2196F3;
  --warn:#FFA000; --danger:#E53935; --ok:#2E7D32;
}

*{box-sizing:border-box}
body{font-family:'Segoe UI',sans-serif;background:var(--bg);margin:0;color:var(--text)}
.container{max-width:1100px;margin:auto;padding:20px}

.top{position:relative;margin-bottom:18px}
.back{position:absolute;left:10px;top:10px;border:none;background:#fff;border-radius:8px;padding:6px 10px;cursor:pointer}
.child-card{background:#E3F2FD;border-radius:12px;padding:18px;text-align:center}
.child-card h1{margin:6px 0 8px}
.child-card p{margin:0;color:var(--muted)}
.stats{display:flex;gap:10px;justify-content:center;margin-top:8px;color:#444;font-size:14px}
.badge{background:#fff;border:1px solid var(--border);border-radius:999px;padding:6px 10px}

.card{background:var(--card);border-radius:12px;box-shadow:0 4px 10px rgba(0,0,0,.08);padding:16px;margin-top:18px}

/* Actions + Filters */
.actions .filters{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
.actions select,.actions input[type="search"], .actions input[type="date"]{border:1px solid #ccc;border-radius:8px;padding:10px 12px;background:#fff}
.actions .range{display:flex;gap:6px;align-items:center}
.actions button{background:var(--primary);color:#fff;border:none;border-radius:8px;padding:10px 14px;cursor:pointer}
.actions button:hover{opacity:.95}

/* AI */
.ai h3{margin:0}
.ai .ai-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.ai .ghost{background:#eef6ff;color:#0b57d0;border:1px solid #cfe0ff;border-radius:8px;padding:6px 10px;cursor:pointer}
.ai ul{margin:0;padding-inline-start:20px}
.ai li{margin:6px 0;color:#444}

/* Visits list */
.table-head{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:10px}
.legend{display:flex;gap:6px;flex-wrap:wrap}
.tag{font-size:12px;border-radius:999px;padding:4px 8px;border:1px solid var(--border)}
.tag.upcoming{background:#E3F2FD;color:#1565C0;border-color:#BBDEFB}
.tag.due{background:#FFF8E1;color:#8D6E63;border-color:#FFE0B2}
.tag.labdone{background:#E8F5E9;color:var(--ok);border-color:#C8E6C9}

.list{display:flex;flex-direction:column;gap:10px}
.month-head{margin:6px 0 0;padding:4px 10px;border-radius:999px;background:#f0f4ff;border:1px solid #d9e2ff;color:#27418b;align-self:flex-start;font-size:13px}

.row{
  display:grid;grid-template-columns:120px 120px 1fr 1fr 180px 160px;
  gap:10px;align-items:center;padding:12px;border:1px solid var(--border);border-radius:12px;background:#fff
}
.row .type{font-weight:bold}
.row .type.regular{color:var(--ok)}
.row .type.emergency{color:var(--danger)}
.row .type.lab{color:var(--accent)}
.row .type.online{color:#7E57C2}
.row .applied{padding:4px 8px;border-radius:999px;font-size:12px;text-align:center}
.applied.true{background:#E8F5E9;color:var(--ok);border:1px solid #C8E6C9}
.applied.false{background:#FFF8E1;color:#8D6E63;border:1px solid #FFE0B2}
.row .right{grid-column:1/-1;display:flex;gap:8px;justify-content:flex-end}
.row .quick{background:#f4f7ff;color:#0b57d0;border:1px solid #cfe0ff;border-radius:8px;padding:6px 10px;cursor:pointer}
.row .flag{font-size:12px;padding:3px 8px;border-radius:999px;border:1px solid var(--border)}
.flag.upcoming{background:#E3F2FD;color:#1565C0;border-color:#BBDEFB}
.flag.due{background:#FFF8E1;color:#8D6E63;border-color:#FFE0B2}

/* Labs chips */
.labs{display:flex;gap:6px;flex-wrap:wrap;margin-top:6px}
.lab-chip{font-size:12px;border:1px solid #e0e7ff;color:#27418b;background:#f6f8ff;border-radius:999px;padding:4px 8px;cursor:pointer}
.lab-chip.done{background:#E8F5E9;color:var(--ok);border-color:#C8E6C9}

/* Files */
.files{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px}
.file{background:#f7fbff;border:1px solid var(--border);border-radius:8px;padding:6px 8px;font-size:12px;display:flex;align-items:center;gap:8px}
.file .del{background:#ffdfe0;border:none;border-radius:6px;color:#B71C1C;cursor:pointer;padding:2px 6px}
.file a{color:#1565C0;text-decoration:none}
.file a:hover{text-decoration:underline}

/* Form / modal */
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}
.field{display:flex;flex-direction:column}
.field.wide{grid-column:1/-1}
label{font-size:14px;color:var(--muted);margin-bottom:6px}
input,select,textarea,button{padding:10px;border:1px solid #ccc;border-radius:8px;background:#fff;font-size:14px}
textarea{resize:vertical;min-height:80px}
.form-actions{display:flex;gap:10px;margin-top:10px}
button{background:var(--primary);color:#fff;cursor:pointer}
button.secondary{background:#ddd;color:#222}

.hidden{display:none}

/* Modal */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.25);display:flex;align-items:flex-start;justify-content:center;padding:30px;z-index:100}
.modal.hidden{display:none}
.modal-body{background:#fff;border-radius:12px;max-width:900px;width:100%;padding:16px;box-shadow:0 10px 30px rgba(0,0,0,.2)}
.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.close{background:#eee;border:none;border-radius:8px;padding:6px 10px;cursor:pointer}

/* Print */
@media print{
  .top,.actions,.ai,.right,.back{display:none !important}
  .container{max-width:none;margin:0;padding:0}
  .card{box-shadow:none;border:none}
  .row{page-break-inside:avoid}
}

/* Responsiveness */
@media (max-width:900px){
  .row{grid-template-columns:110px 110px 1fr 1fr 170px 140px}
}
@media (max-width:760px){
  .row{grid-template-columns:100px 1fr 1fr}
  .row > :nth-child(2){order:3}
  .row > :nth-child(3){order:2}
  .row > :nth-child(4){order:4}
  .row > :nth-child(5){order:5}
  .row > :nth-child(6){order:6}
}
