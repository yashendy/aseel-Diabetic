/* ===========================
   meals.css  â€” UI & Modal + Loader
   =========================== */

/* Base */
:root {
  --brand: #6b64f3;
  --brand-2: #8c86ff;
  --danger: #ff5c6c;
  --ok: #22c55e;
  --warn: #f59e0b;
  --ink: #0f172a;
  --ink-2: #334155;
  --bg: #fafafb;
  --muted: #94a3b8;
  --card: #ffffff;
  --chip: #f2f3ff;
  --shadow: 0 10px 30px rgba(15, 23, 42, .08);
  --radius: 14px;
}

html, body { background: var(--bg); color: var(--ink); font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Naskh Arabic UI", "Noto Sans Arabic", Arial, sans-serif; }

/* Loader */
.app-loader{position:fixed;inset:0;background:rgba(255,255,255,.7);display:none;align-items:center;justify-content:center;z-index:9999}
.app-loader.show{display:flex}
.app-loader .box{background:#fff;box-shadow:var(--shadow);border-radius:16px;padding:18px 24px;display:flex;align-items:center;gap:12px;font-weight:600;color:var(--ink-2)}
.app-loader .spinner{width:18px;height:18px;border-radius:50%;border:3px solid var(--chip);border-top-color:var(--brand);animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* Chips & buttons */
.chips{display:flex;flex-wrap:wrap;gap:8px}
.chip{background:var(--chip);color:var(--ink-2);border-radius:999px;padding:6px 10px;font-size:12px;display:inline-flex;align-items:center;gap:6px}
.btn{appearance:none;border:0;border-radius:12px;padding:8px 12px;font-weight:600;background:var(--brand);color:#fff;cursor:pointer;transition:transform .05s}
.btn:active{transform:translateY(1px)}
.btn.ghost{background:#eef2ff;color:var(--ink-2)}
.btn.danger{background:var(--danger)}
.muted{color:var(--muted);font-size:12px}

/* Progress (carb target) */
.progress{position:relative;height:10px;background:#eef2ff;border-radius:999px;overflow:hidden;margin:12px 0}
.progress .bar{position:absolute;inset-inline-start:0;top:0;bottom:0;width:0;transition:width .25s ease;background:var(--ok)}
.progress .bar.warn{background:var(--warn)}
.progress .bar.danger{background:var(--danger)}
.progress-label{margin-top:8px;font-size:12px;color:var(--ink-2)}

/* Cards & grid */
.container{max-width:1200px;margin:18px auto;padding:0 12px}
.card{background:#fff;border-radius:16px;box-shadow:var(--shadow);padding:16px;margin-bottom:14px}
.grid-left{display:grid;grid-template-columns:380px 1fr;gap:16px}
.flex-between{display:flex;justify-content:space-between;align-items:center;gap:12px}
.toolbar{display:flex;gap:8px}

/* Items grid */
.items-grid{display:grid;gap:12px;grid-template-columns:repeat(auto-fill,minmax(170px,1fr))}
.card-item{background:#fff;border-radius:16px;overflow:hidden;box-shadow:var(--shadow);display:grid;grid-template-rows:120px auto auto}
.card-item .thumb{background:#f7f7ff;display:grid;place-items:center}
.card-item .thumb img{width:82px;height:82px;object-fit:cover;border-radius:12px}
.card-item .meta{padding:10px 12px}
.card-item .meta .name{font-weight:700;margin-bottom:2px}
.card-item .meta .sub{font-size:12px;color:var(--muted)}
.card-item .actions{padding:10px 12px;display:flex;justify-content:space-between;align-items:center}
.card-item .ic{background:#f1f5ff;border:0;border-radius:10px;padding:6px 8px;cursor:pointer}
.card-item .ic.on{background:var(--brand);color:#fff}
.card-item .btn-add{padding:6px 10px;border-radius:10px;background:var(--brand);color:#fff;border:0;cursor:pointer}

/* Meal table */
.table-wrap{overflow:auto;max-height:520px}
.table{width:100%;border-collapse:separate;border-spacing:0 8px}
.table thead th{font-weight:700;color:var(--ink-2);font-size:12px}
.table tbody tr{background:#fff}
.table td,.table th{padding:8px 10px;text-align:center}
.table .td-name{text-align:right}
.table .thumb{width:32px;height:32px;border-radius:8px;object-fit:cover;background:#f3f4f6}
.totals{display:flex;flex-wrap:wrap;gap:16px;margin-top:6px}
.total{background:#f7f7ff;border-radius:10px;padding:6px 10px;display:inline-block}
.total.dose{font-weight:800;color:var(--ink)}

/* Small helpers */
.hidden{display:none!important}
