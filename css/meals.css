:root{
  --bg:#0B1020; --bg2:#141A2E;
  --card:rgba(255,255,255,.04); --card-b:rgba(255,255,255,.08);
  --text:#E9EEFC; --muted:#A7B1D0;
  --primary:#00BFA6; --primary2:#009E85;
  --danger:#FF6B6B; --warn:#F3B04D; --ok:#2EF876;
  --radius:16px; --shadow:0 10px 30px rgba(0,0,0,.35);
}
*{box-sizing:border-box}
html,body{margin:0;background:linear-gradient(180deg,#131b34,#1a2345);color:var(--text);font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans",Ubuntu,"Helvetica Neue",Arial}
a{color:inherit;text-decoration:none}
input,select,button{font:inherit}

.topbar{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 16px;background:#0c1330;position:sticky;top:0;z-index:50;box-shadow:0 2px 0 rgba(255,255,255,.05)}
.topbar .btn{padding:8px 12px;border-radius:10px;background:var(--card);border:1px solid var(--card-b);color:var(--text)}
.btn:hover{background:rgba(255,255,255,.07)}
.btn-primary{background:var(--primary);border:0;color:#071218}
.tag{font-size:14px;color:var(--muted);margin-inline-start:8px}

.container{max-width:1100px;margin:20px auto;padding:0 12px}
.card{background:var(--card);border:1px solid var(--card-b);border-radius:var(--radius);box-shadow:var(--shadow);padding:14px;margin:14px 0}

.stats{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
.stats .card{display:grid;grid-template-rows:auto 1fr auto;align-items:center;text-align:center}
.stats .k{color:var(--muted)}
.stats .v{font-size:22px;margin:4px 0}
.stats .s{color:var(--muted);font-size:12px}

.controls .row{display:grid;grid-template-columns:1fr 1fr auto;gap:12px}
label{display:block;margin-bottom:6px;color:var(--muted);font-size:13px}
input,select{width:100%;padding:10px;border-radius:12px;border:1px solid var(--card-b);background:#0e1635;color:var(--text)}
input:focus,select:focus{outline:2px solid rgba(0,191,166,.35)}

.range-wrap{margin-top:10px}
.range-labels{display:flex;align-items:center;justify-content:space-between;color:var(--muted);font-size:13px;margin-bottom:6px}
.range-bar{position:relative;height:14px;border-radius:999px;background:linear-gradient(90deg,#3bd382 0 45%,#ffd659 45% 60%,#ff9f8f 60% 100%)}
.range-fill{position:absolute;inset:0;opacity:.15}
.range-marker{position:absolute;top:50%;translate:0 -50%;width:12px;height:12px;background:#fff;border-radius:50%;box-shadow:0 0 0 2px rgba(0,0,0,.2)}
.range-legend{display:flex;gap:8px;justify-content:flex-end;font-size:12px;color:var(--muted)}
.range-legend .g{color:#47e58e}.range-legend .y{color:#ffd659}.range-legend .r{color:#ff9f8f}

.table-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.table{border:1px solid var(--card-b);border-radius:12px;overflow:hidden}
.thead,.tbody>div{display:grid;grid-template-columns:80px 1.2fr .9fr .9fr .8fr;gap:6px;align-items:center}
.thead{background:#0d1534;color:var(--muted);padding:10px 12px}
.tbody>div{padding:8px 12px;border-top:1px solid var(--card-b)}
.tbody .del{background:#1b243f;border:1px solid var(--card-b);border-radius:10px;color:#ffb4b4;cursor:pointer}
.total{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;font-weight:600}

.actions{display:flex;gap:8px;align-items:end}
.lib-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(230px,1fr));gap:12px;padding:10px}
.lib-card{background:#0f1636;border:1px solid var(--card-b);border-radius:16px;padding:10px;display:grid;gap:8px}
.lib-card .img{height:120px;border-radius:12px;overflow:hidden;background:#0b1330;border:1px solid var(--card-b);display:flex;align-items:center;justify-content:center}
.lib-card .img img{width:100%;height:100%;object-fit:cover}
.lib-card .title{font-weight:600}
.lib-card .row{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.lib-card .foot{display:flex;gap:8px}
.lib-card small{color:var(--muted)}

.modal{border:0;padding:0;background:transparent}
.modal::backdrop{background:rgba(0,0,0,.5)}
.modal .modal-header,.modal .modal-footer{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;background:#0c1330;border-bottom:1px solid var(--card-b)}
.modal .modal-footer{border-top:1px solid var(--card-b);border-bottom:0}
.modal .icon{background:transparent;border:0;color:var(--text);font-size:18px;cursor:pointer}
.modal .pad{padding:12px}
.btn{cursor:pointer}

@media (max-width:840px){
  .controls .row{grid-template-columns:1fr;gap:10px}
  .thead,.tbody>div{grid-template-columns:70px 1fr .9fr .9fr .8fr}
}
