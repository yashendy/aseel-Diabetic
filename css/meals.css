/* css/meals.css */
:root{
  --bg:#F0F8FF; --card:#fff; --border:#e6eef7; --text:#333; --muted:#666;
  --primary:#4CAF50; --accent:#2196F3; --danger:#E53935; --warn:#FB8C00;
}

*{box-sizing:border-box}
body{font-family:'Segoe UI',sans-serif;background:var(--bg);margin:0;color:var(--text)}
.container{max-width:1200px;margin:auto;padding:16px}

.card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:16px;margin-bottom:16px}
.muted{color:#666}

.head-grid{display:flex;justify-content:space-between;gap:16px;flex-wrap:wrap}
.controls{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:10px;min-width:380px}
.field{display:flex;flex-direction:column}
label{font-size:13px;color:var(--muted);margin-bottom:6px}
input,select,button{padding:10px;border:1px solid #ccc;border-radius:8px;background:#fff;font-size:14px}
button{background:var(--primary);color:#fff;border:none;cursor:pointer}
button.secondary{background:#ddd;color:#222}
button:hover{opacity:.96}

.builder-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.actions{display:flex;gap:8px}

.items-table{border:1px solid var(--border);border-radius:12px;overflow:hidden}
.row{display:grid;grid-template-columns:2fr 120px 110px 140px 110px 110px 110px 110px 110px 80px;gap:0;border-bottom:1px solid var(--border);align-items:center}
.row>div{padding:8px;border-left:1px solid var(--border)}
.row.header{background:#F0F6FF;font-weight:600}
.row .del{background:#ffdfe0;color:#b3122f}
.row .name{display:flex;flex-direction:column}
.row .sub{font-size:12px;color:#666}
.row input[type="number"]{width:100%}

.summary{margin-top:12px;border-top:1px dashed var(--border);padding-top:12px}
.sum-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:10px}
.sum-box{background:#f7fbff;border:1px solid var(--border);border-radius:10px;padding:10px}
.sum-box .label{font-size:12px;color:#555}
.sum-box .value{font-weight:700}

.dose{margin-top:10px;display:grid;grid-template-columns:1fr 1fr;gap:12px}
.dose .dose-line{display:flex;align-items:center;gap:8px}
.dose input{max-width:160px}
.save-actions{margin-top:10px;display:flex;gap:10px}

.table-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
.meals-list{display:flex;flex-direction:column;gap:10px}
.meal-card{border:1px solid var(--border);border-radius:12px;padding:10px;display:grid;grid-template-columns:120px 1fr 1fr 140px 160px;gap:10px;align-items:center}
.meal-card .type{font-weight:700}
.meal-card .dose-badge{background:#E8F5E9;border:1px solid #C8E6C9;color:#2E7D32;border-radius:999px;padding:4px 8px;font-size:12px;display:inline-block}
.meal-card .danger{background:#FFEBEE;border-color:#FFCDD2;color:#C62828}
.meal-card .actions{display:flex;gap:8px;justify-content:flex-end}

.empty{padding:20px;text-align:center;color:#666}
.hidden{display:none}

/* Modal */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.25);display:flex;align-items:flex-start;justify-content:center;padding:30px;z-index:100}
.modal.hidden{display:none}
.modal-body{background:#fff;border-radius:12px;max-width:960px;width:100%;padding:16px;box-shadow:0 10px 30px rgba(0,0,0,.2)}
.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.close{background:#eee;border:none;border-radius:8px;padding:6px 10px;cursor:pointer}

.form-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}
.picker-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:10px;margin-top:10px}
.pick-card{display:flex;gap:10px;border:1px solid var(--border);border-radius:12px;padding:8px;background:#fff}
.pick-thumb{width:56px;height:56px;border-radius:8px;border:1px solid var(--border);display:flex;align-items:center;justify-content:center;overflow:hidden;background:#fafcff}
.pick-thumb img{width:100%;height:100%;object-fit:cover}
.pick-meta{flex:1}
.pick-actions{display:flex;gap:6px;margin-top:6px}
.badge{background:#f7fbff;border:1px solid var(--border);border-radius:999px;padding:2px 8px;font-size:12px;color:#444}

@media (max-width:1000px){
  .row{grid-template-columns:2fr 110px 100px 130px 100px 100px 100px 100px 100px 70px}
  .dose{grid-template-columns:1fr}
  .meal-card{grid-template-columns:100px 1fr 1fr 140px 140px}
}
