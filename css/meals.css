/* meals.css â€” UI polish for meals page */

/* ===== Base & Variables ===== */
:root{
  --primary:#5b6cff;
  --primary-600:#4a59e6;
  --accent:#00b894;
  --danger:#ff5a5f;
  --warn:#ffb703;
  --bg:#ffffff;
  --muted:#6b7280;
  --chip:#eef0ff;
  --br:14px;
  --shadow:0 12px 36px rgba(0,0,0,.16);
}
*{box-sizing:border-box}
button{cursor:pointer}

/* ===== Progress bar ===== */
.progress {
  width: 100%; background: #f3f4f6; border-radius: 999px; height: 10px; overflow: hidden;
}
.progress .bar{height:100%; width:0; transition:width .25s ease; background: var(--accent);}
.progress .bar.ok{background:var(--accent)}
.progress .bar.warn{background:var(--warn)}
.progress .bar.danger{background:var(--danger)}
.progress-label{font-size:.95rem; color:#111827; margin-top:6px}

/* ===== Meal table ===== */
.table-meal{width:100%; border-collapse: collapse}
.table-meal th,.table-meal td{border-bottom:1px solid #f0f0f0; padding:10px}
.table-meal td .thumb{width:44px; height:44px; border-radius:10px; object-fit:cover; background:#f5f5f5}
.table-meal input[type="number"], .table-meal select{
  width:100%; padding:6px 8px; border:1px solid #e5e7eb; border-radius:10px; background:#fff
}
.ic.danger{background:#fee2e2; color:#991b1b; border:0; padding:6px 10px; border-radius:8px}
.tr-added{animation: rowFlash 1s ease}
@keyframes rowFlash{0%{background:#ecfeff}100%{background:transparent}}

/* ===== Floating open button ===== */
#openLibFloating{
  position:fixed; inset-inline-start:16px; inset-block-end:16px; z-index:9999;
  padding:10px 14px; border-radius:12px; border:0; background:var(--primary); color:#fff;
  box-shadow:0 6px 16px rgba(0,0,0,.15)
}
#openLibFloating:hover{background:var(--primary-600)}

/* ===== Toast ===== */
.toast{
  position: fixed; inset-inline-start:50%; transform: translateX(-50%);
  inset-block-end: 20px; background:#111827; color:#fff; padding:10px 14px;
  border-radius:999px; z-index:10000; box-shadow:var(--shadow); opacity:0; transition:opacity .2s, transform .2s;
}
.toast.show{opacity:1; transform:translateX(-50%) translateY(-4px)}

/* ===== Modal ===== */
.m-overlay{position:fixed; inset:0; background:rgba(0,0,0,.35);
  display:flex; align-items:center; justify-content:center; z-index:9998}
.m-box{width:min(1100px,94vw); max-height:88vh; background:#fff; border-radius:16px;
  overflow:hidden; display:flex; flex-direction:column; box-shadow:var(--shadow)}
.m-head{padding:12px 16px; border-bottom:1px solid #eee; display:grid;
  grid-template-columns: 1fr auto auto auto 160px auto; gap:8px; align-items:center}
.m-head input[type="search"]{padding:10px 12px; border:1px solid #ddd; border-radius:10px}
.m-head select{padding:10px; border:1px solid #ddd; border-radius:10px; background:#fff}
.m-close{background:#eee; color:#111827; border:0; padding:10px 12px; border-radius:10px}
.m-actions{display:flex; gap:8px; align-items:center; justify-content:flex-end}
.m-chip{padding:6px 12px; border:1px solid #ddd; border-radius:999px; cursor:pointer; user-select:none; background:#fff; color:#111827}
.m-chip.on{background:var(--chip); border-color:var(--primary); color:var(--primary)}
.m-tags{display:flex; flex-wrap:wrap; gap:8px; padding:8px 12px; border-bottom:1px solid #eee}
.m-tabs{display:flex; gap:8px; padding:8px 12px; border-bottom:1px solid #eee; background:#fafafa}
.m-tab{padding:8px 12px; border-radius:10px; border:1px solid transparent; cursor:pointer}
.m-tab.on{background:#eef0ff; border-color:#c7d2fe; color:#1f2dff}
.m-body{padding:12px; overflow:auto}
.m-foot{padding:12px; border-top:1px solid #eee; display:flex; justify-content:space-between; align-items:center}

/* ===== Cards Grid ===== */
.m-grid{display:grid; grid-template-columns:repeat(3, 1fr); gap:12px}
@media (max-width:900px){.m-grid{grid-template-columns:repeat(2, 1fr)}}
@media (max-width:640px){.m-grid{grid-template-columns:1fr}}

.m-card{border:1px solid #eee; border-radius:12px; overflow:hidden; display:flex; flex-direction:column; background:#fff}
.m-card .img{aspect-ratio:4/3; background:#fafafa; display:block; width:100%; object-fit:cover}
.m-card .ct{padding:10px 12px; display:flex; flex-direction:column; gap:8px}
.m-card .row{display:flex; gap:8px; align-items:center}
.m-card .row .grow{flex:1}
.m-card .muted{color:var(--muted); font-size:.9rem}
.m-card select,.m-card input{padding:8px; border:1px solid #ddd; border-radius:8px; background:#fff; width:100%}
.m-card .btn-add{padding:9px 12px; border:0; border-radius:10px; background:var(--primary); color:#fff; font-weight:600}
.m-card .btn-add:hover{background:var(--primary-600)}
.m-card .fav,.m-card .ban{border:1px solid #ddd; border-radius:8px; background:#fff; padding:6px 10px}
.m-card .fav.on{background:#fff7cc; border-color:#facc15}
.m-card .ban.on{background:#ffe4e6; border-color:#fb7185}

/* ===== Minor helpers ===== */
.hidden{display:none !important}
