:root{
  --bg:#f7f8fb; --card:#fff; --ink:#111827; --muted:#6b7280;
  --line:#e5e7eb; --brand:#4f46e5; --ok:#10b981; --warn:#ef4444; --blue:#2563eb;
}
*{box-sizing:border-box}
html,body{margin:0;background:var(--bg);color:var(--ink);font-family:"Segoe UI",Tahoma,Arial,sans-serif}
.container{max-width:1120px;margin:16px auto;padding:0 12px}
.card{background:var(--card);border:1px solid var(--line);border-radius:12px;padding:14px;margin-bottom:14px}

.hidden{display:none !important}
.small{font-size:12px}
.ic{opacity:.6}
.muted{color:var(--muted);margin:0}
.center{text-align:center}

.child-info{display:grid;gap:10px}
.head h1{margin:0 0 4px}

.chips{display:flex;gap:8px;flex-wrap:wrap}
.chip{background:#eef2ff;border:1px solid #c7d2fe;color:#3730a3;padding:4px 8px;border-radius:999px;font-size:12px}

.controls{display:flex;gap:12px;flex-wrap:wrap;justify-content:flex-end}
.range{display:flex;align-items:center;gap:8px}
.range input,.range select{width:auto;height:38px}

.actions{display:flex;gap:8px;flex-wrap:wrap}
.actions .btn{padding:8px 12px;height:38px}
.actions .primary{background:var(--brand);color:#fff}

.btn{border-radius:8px;border:1px solid var(--line);background:var(--card);color:var(--ink);text-decoration:none;cursor:pointer;display:inline-flex;align-items:center;gap:4px;padding:6px 10px}

.table-wrap{overflow-x:auto}
.table-wrap table{width:100%;min-width:700px;border-collapse:collapse;table-layout:fixed;margin-top:10px}
.table-wrap th,.table-wrap td{padding:10px;text-align:right;font-size:14px;border:1px solid var(--line);word-wrap:break-word}
.table-wrap th{background:#f1f5f9;font-weight:600}

.col-slot{width:110px}
.reading{white-space:nowrap}
.state-icon{display:inline-block;width:12px;height:12px;background:#ddd;border-radius:999px;margin-inline-start:6px;transform:translateY(1px)}
.arrow.up{background:var(--warn);position:relative;transform:translateY(1px)}
.arrow.up::after{content:'▲';position:absolute;inset:0;text-align:center;font-size:8px;color:var(--warn);transform:translateY(-1px)}
.arrow.down{background:var(--blue);position:relative;transform:translateY(1px)}
.arrow.down::after{content:'▼';position:absolute;inset:0;text-align:center;font-size:8px;color:var(--blue);transform:translateY(1px)}
.arrow.flat{background:var(--ok)}

.status-chip{display:inline-block;padding:2px 8px;border-radius:999px;font-size:12px}
.status-chip.ok{background:rgba(16,185,129,.1);color:var(--ok)}
.status-chip.high{background:rgba(239,68,68,.1);color:var(--warn)}
.status-chip.low{background:rgba(37,99,235,.1);color:var(--blue)}
.state-icon.up{color:var(--warn)}
.state-icon.down{color:var(--blue)}

tr.state-high{border-inline-start:6px solid var(--warn);background:rgba(239,68,68,.05)}
tr.state-low{ border-inline-start:6px solid var(--blue);background:rgba(37,99,235,.05)}
tr.state-ok{  border-inline-start:6px solid var(--ok);background:rgba(16,185,129,.06)}

.notes{white-space:pre-wrap}

/* كثافة تلقائية */
body.dense table{font-size:13px}
body.very-dense table{font-size:12px}
#densityHint{margin-top:8px}

/* إخفاء الملاحظات */
body.notes-hidden .col-notes,
body.notes-hidden td.col-notes{display:none}

/* لودر سفلي */
.loader{
  position:fixed;inset-inline:0;bottom:14px;margin:auto;width:230px;text-align:center;
  background:#111827;color:#fff;padding:10px 12px;border-radius:10px;opacity:.92;z-index:9999
}

/* طباعة */
@media print{
  .back,.controls,.actions,.range,.btn,#densityHint{display:none !important}
  .container{max-width:none;margin:0;padding:0}
  .card{box-shadow:none;border:none !important;padding:0;margin:0}
  body{background:none}
  h1{font-size:1.5rem}
  h2{font-size:1.2rem;margin-top:20px}
  .table-wrap{overflow:visible}
  .table-wrap table{table-layout:auto;min-width:auto}
  .table-wrap th,.table-wrap td{border:1px solid #aaa}
}
