<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ุชูุงุฑูุฑ ุงูุชุญุงููู ุงูุทุจูุฉ</title>
  <link rel="icon" href="favicon.ico">
  <link rel="stylesheet" href="css/labs.css">

  <!-- ููุชุจุงุช PDF ูุจุงุฑููุฏ -->
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf-autotable@3.8.2/dist/jspdf.plugin.autotable.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.6/dist/JsBarcode.all.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcodejs/qrcode.min.js"></script>
</head>
<body>
  <div class="container">

    <div class="row space no-print">
      <div class="row">
        <button class="btn secondary" onclick="history.back()">โฉ๏ธ ุฑุฌูุน</button>
      </div>
      <h1 class="row">๐ฌ ุชูุงุฑูุฑ ุงูุชุญุงููู ุงูุทุจูุฉ <span id="hdrChild" class="tiny pill"></span></h1>
      <div class="row">
        <button id="printBtn" class="btn secondary">๐จ๏ธ ุทุจุงุนุฉ</button>
      </div>
    </div>

    <!-- ุจูุงูุงุช ุนุงูุฉ -->
    <div class="card">
      <div class="row space">
        <div class="row">
          <div>ุงูุทูู: <b id="childName">โ</b></div>
          <span id="dueBadge" class="pill tiny"></span>
        </div>
        <div class="row">
          <button id="saveBtn" class="btn">๐พ ุญูุธ</button>
          <button id="savePdfBtn" class="btn ghost">๐พ ุญูุธ + PDF</button>
          <button id="pdfBtn" class="btn ghost">โฌ๏ธ ุชุญููู PDF</button>
        </div>
      </div>

      <div class="grid2" style="margin-top:12px">
        <div>
          <label class="tiny">ุชุงุฑูุฎ ุงูุชุญููู</label>
          <input id="labDate" type="date">
        </div>
        <div>
          <label class="tiny">ููุน ุงูุชูุฑูุฑ</label>
          <select id="labType">
            <option value="full">ุดุงูู</option>
            <option value="hba1c_only">HbA1c ููุท</option>
          </select>
        </div>
      </div>

      <div class="tiny" id="fileLinkBox"></div>
    </div>

    <!-- HbA1c -->
    <div class="card">
      <h3>HbA1c</h3>
      <table>
        <tr><th>ุงููููุฉ</th><th>ุงููุญุฏุฉ</th><th>ููุงุญุธุงุช</th></tr>
        <tr>
          <td><input id="hba1cVal" type="number" step="0.1" placeholder="%"></td>
          <td>%</td>
          <td><input id="hba1cNote" placeholder="ุชุนููู ุงูุทุจูุจ / ุงููุฏู"></td>
        </tr>
      </table>
    </div>

    <!-- Lipid -->
    <div class="card">
      <h3>ุฏููู ุงูุฏู (Lipid Profile)</h3>
      <table>
        <tr><th>ุงูุจูุฏ</th><th>ุงููููุฉ</th><th>ุงููุญุฏุฉ</th><th>ููุงุญุธุงุช</th></tr>
        <tr><td>TC</td><td><input id="lip_tc" type="number"></td><td>mg/dL</td><td><input id="lip_note"></td></tr>
        <tr><td>LDL</td><td><input id="lip_ldl" type="number"></td><td>mg/dL</td><td></td></tr>
        <tr><td>HDL</td><td><input id="lip_hdl" type="number"></td><td>mg/dL</td><td></td></tr>
        <tr><td>TG</td><td><input id="lip_tg" type="number"></td><td>mg/dL</td><td></td></tr>
      </table>
    </div>

    <!-- ุงูุบุฏุฉ ูุงูููู -->
    <div class="card">
      <h3>ุงูุบุฏุฉ ุงูุฏุฑููุฉ ูุงููููู</h3>
      <table>
        <tr><th>ุงูุงุฎุชุจุงุฑ</th><th>ุงููููุฉ</th><th>ุงููุญุฏุฉ</th><th>ููุงุญุธุงุช</th></tr>
        <tr><td>TSH</td><td><input id="thy_tsh" type="number" step="0.01"></td><td>mIU/L</td><td><input id="thy_note"></td></tr>
        <tr><td>FT4</td><td><input id="thy_ft4" type="number" step="0.01"></td><td>ng/dL</td><td></td></tr>
        <tr><td>Microalbumin/Creatinine</td><td><input id="ren_mac" type="number" step="0.01"></td><td>mg/g</td><td><input id="ren_note"></td></tr>
        <tr><td>Creatinine</td><td><input id="ren_creat" type="number" step="0.01"></td><td>mg/dL</td><td></td></tr>
      </table>
    </div>

    <!-- ููุงุญุธุงุช ุนุงูุฉ -->
    <div class="card">
      <h3>ููุงุญุธุงุช ุนุงูุฉ</h3>
      <textarea id="generalNote" rows="3" placeholder="ุชูุตูุงุช ุงูุทุจูุจ / ุฃู ููุงุญุธุงุช ุฃุฎุฑู"></textarea>
    </div>

    <!-- ุงูุณุฌูุงุช ุงูุณุงุจูุฉ -->
    <div class="card">
      <div class="row space">
        <h3>ุงูุณุฌูุงุช ุงูุณุงุจูุฉ</h3>
        <small class="muted">ุขุฎุฑ 20 ุชูุฑูุฑ</small>
      </div>
      <table id="historyTable">
        <thead>
          <tr>
            <th>ุงูุชุงุฑูุฎ</th>
            <th>HbA1c</th>
            <th>ููุงุญุธุงุช</th>
            <th>ุนูููุงุช</th>
          </tr>
        </thead>
        <tbody id="historyBody">
          <tr><td colspan="4" class="muted">ูุง ุชูุฌุฏ ุณุฌูุงุช</td></tr>
        </tbody>
      </table>
    </div>

    <!-- canvases ุงููุฎูููุฉ ูุชูููุฏ ุงูุจุงุฑููุฏ/QR -->
    <div class="hidden">
      <svg id="barcode"></svg>
      <div id="qr"></div>
    </div>
  </div>

  <!-- ุณูุฑุจุช -->
  <script type="module" src="js/labs.js"></script>
</body>
</html>
