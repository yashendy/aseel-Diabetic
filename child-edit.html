<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ملف الطفل</title>
  <link rel="stylesheet" href="./css/child-edit.css" />
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

  <header class="page-header">
    <h1>إعدادات الطفل <span id="childTitle" class="pill"></span></h1>
  </header>

  <!-- بطاقة معلومات الطفل -->
  <section class="card" id="childCard">
    
    <div class="card-row">
      <div><b>النطاق:</b> <span id="c_range">—</span></div>
      <div><b>CR:</b> <span id="c_cr">—</span></div>
      <div><b>CF:</b> <span id="c_cf">—</span></div>
      <div><b>الجهاز:</b> <span id="c_device">—</span></div>
    </div>
    <div class="card-row">
      <div><b>Basal:</b> <span id="c_basal">—</span></div>
      <div><b>Bolus:</b> <span id="c_bolus">—</span></div>
      <div><b>الوزن:</b> <span id="c_weight">—</span></div>
      <div><b>الطول:</b> <span id="c_height">—</span></div>
    </div>
    <div class="card-row muted">
      <div><b>الطبيب المرتبط:</b> <span id="c_doc">—</span></div>
      <div><b>المشاركة:</b> <span id="c_share">—</span></div>
      <div><b>آخر تحديث:</b> <span id="c_updated">—</span></div>
    </div>
  </section>
 
  <!-- نموذج تعديل للطبيب (المسموح فقط) -->
  <section class="card">
    <h2> البيانات </h2>
    <div class="form-grid">
      <label>الاسم <input id="f_name" /></label>
      <label>الجنس
        <select id="f_gender">
          <option value="">—</option>
          <option value="male">ذكر</option>
          <option value="female">أنثى</option>
        </select>
      </label>
      <label>تاريخ الميلاد <input id="f_birthDate" type="date" /></label>
      <label>الوحدة
        <select id="f_unit">
          <option value="">—</option>
          <option value="mmol/L">mmol/L</option>
          <option value="mg/dL">mg/dL</option>
        </select>
      </label>

      <label>معامل الكارب (CR) <input id="f_carbRatio" type="number" step="0.1"/></label>
      <label>التصحيحي (CF) <input id="f_correctionFactor" type="number" step="0.1"/></label>

      <label>طبيعة القاعدي (Basal) <input id="f_basalType"/></label>
      <label>طبيعة البلعة (Bolus) <input id="f_bolusType"/></label>

      <label>الطول (سم) <input id="f_heightCm" type="number" step="0.1"/></label>
      <label>الوزن (كجم) <input id="f_weightKg" type="number" step="0.1"/></label>

      <label>Hypo (min) <input id="f_hypo" type="number" step="0.1" /></label>
      <label>Hyper (max) <input id="f_hyper" type="number" step="0.1" /></label>

      <!-- الحدود الشديدة -->
      <label>هبوط شديد (Severe Low) <input id="f_severeLow" type="number" step="0.1" /></label>
      <label>ارتفاع شديد (Severe High) <input id="f_severeHigh" type="number" step="0.1" /></label>
    </div>

    <div class="form-grid">
      <div>
        <div class="legend small">أهداف الكارب (جرام)</div>
        <label>فطار: من <input id="f_carb_b_min" type="number" step="1"/> إلى <input id="f_carb_b_max" type="number" step="1"/></label>
        <label>غدا: من <input id="f_carb_l_min" type="number" step="1"/> إلى <input id="f_carb_l_max" type="number" step="1"/></label>
        <label>عشا: من <input id="f_carb_d_min" type="number" step="1"/> إلى <input id="f_carb_d_max" type="number" step="1"/></label>
        <label>سناك: من <input id="f_carb_s_min" type="number" step="1"/> إلى <input id="f_carb_s_max" type="number" step="1"/></label>
      </div>
    </div>

    <div class="actions">
      <button id="btnSave" class="btn success">حفظ</button>
      <span id="status" class="status"></span>
    </div>
  </section>

  <div id="loader" class="loader hidden">تحميل ⏳</div>

  <script type="module" src="./js/child-edit.js"></script>
</body>
</html>
