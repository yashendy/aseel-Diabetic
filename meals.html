<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ูุฌุจุฉ ุงูุทูู</title>

  <!-- ุงูุฃุณููุจ -->
  <link rel="stylesheet" href="css/meals.css" />

  <!-- Firebase config ูุฌุจ ุฃู ูููู ูุจูู -->
  <script src="js/firebase-config.js"></script>
</head>
<body>

  <header class="page-header">
    <div class="crumbs">
      <a class="btn" href="index.html">ุงูุฑุฆูุณูุฉ ๐</a>
      <button id="btnBack" class="btn">ุฑุฌูุน</button>
    </div>

    <!-- ููุฎุต ุฃุนูู ุงูุตูุญุฉ: ุงุณู ุงูุทูู + ูุนุงููุงุช ุนุงูุฉ -->
    <div class="child-head">
      <div id="childName" class="child-name">โ</div>
      <div class="child-metrics">
        <span>CR: <b id="headCR">โ</b></span>
        <span>CF: <b id="headCF">โ</b></span>
        <span>ุงุฑุชูุงุน: <b id="headHyper">โ</b></span>
        <span>ุงุฑุชูุงุน ุดุฏูุฏ: <b id="headCritHigh">โ</b></span>
      </div>
    </div>
  </header>

  <main class="container">

    <!-- ุฅุฌุฑุงุกุงุช ุณุฑูุนุฉ -->
    <section class="actions">
      <div class="row">
        <label>ููุน ุงููุฌุจุฉ</label>
        <select id="mealType">
          <option value="breakfast">ูุทุงุฑ</option>
          <option value="lunch">ุบุฏุงุก</option>
          <option value="dinner">ุนุดุงุก</option>
          <option value="snack">ุณูุงู</option>
        </select>

        <label>ุชุงุฑูุฎ</label>
        <input id="mealDate" type="date" />
      </div>
    </section>

    <!-- ุงูููุงุณุงุช ูุงูุฌุฑุนุงุช -->
    <section class="panel">
      <h3>ุงูููุงุณุงุช ูุงูุฌุฑุนุงุช</h3>

      <div class="grid-3">
        <div class="field">
          <label>ููุงุณ ูุจู ุงููุฌุจุฉ</label>
          <input id="glucoseBefore" type="number" step="0.1" inputmode="decimal" placeholder="โ" />
        </div>

        <div class="field">
          <label>ููุงุณ ุจุนุฏ ุงููุฌุจุฉ</label>
          <input id="glucoseAfter" type="number" step="0.1" inputmode="decimal" placeholder="โ" />
        </div>

        <div class="field">
          <label>ุฌุฑุนุฉ ุงูุชุตุญูุญ</label>
          <input id="doseCorrection" type="number" step="0.25" inputmode="decimal" placeholder="0" />
        </div>

        <div class="field">
          <label>ุฌุฑุนุฉ ุงููุงุฑุจ (ููุชุฑุญุฉ)</label>
          <input id="doseCarb" type="number" step="0.25" inputmode="decimal" placeholder="0" />
        </div>

        <div class="field">
          <label>ุฅุฌูุงูู ุงูุฌุฑุนุฉ</label>
          <input id="doseTotal" type="number" step="0.25" inputmode="decimal" placeholder="0" />
        </div>

        <div class="field">
          <label>ููุงุญุธุงุช (ุงุฎุชูุงุฑู)</label>
          <input id="notes" type="text" placeholder="ูุซุงู: ูุฌุจุฉ ุฎูููุฉ" />
        </div>
      </div>

      <div class="subnote">
        <span>โ๏ธ ูุชู ุงุญุชุณุงุจ ุงูุชุตุญูุญ ุชููุงุฆููุง ุฅุฐุง ูุงู ุงูููุงุณ โฅ <b id="critHighMini">โ</b> ุจุงุณุชุฎุฏุงู (ุงูููุงุณ โ <b id="hyperMini">โ</b>) รท CFุ ูุงูุชูุฑูุจ ุนูู 0.25.</span>
      </div>
    </section>

    <!-- ูุฏู ุงููุงุฑุจ ูููุฌุจุฉ -->
    <section class="panel">
      <div class="title-row">
        <h3>ูุฏู ุงููุงุฑุจ ูููุฌุจุฉ</h3>
        <button id="btnSmartFill" class="btn btn-light">ุชูุฒูุน ุฐูู</button>
      </div>

      <div id="carbGoal" class="carb-goal">
        <div class="bar">
          <div id="carbBar" class="bar__fill" style="width:0%"></div>
        </div>
        <div class="legend">
          <span>ุงููุงุฑุจ ุงูุญุงูู: <b id="carbNow">0</b> g</span>
          <span>ูู: <b id="carbMin">โ</b> g</span>
          <span>ุฅูู: <b id="carbMax">โ</b> g</span>
        </div>
      </div>
    </section>

    <!-- ุงูุฃุตูุงู ุงููุถุงูุฉ -->
    <section class="panel">
      <div class="title-row">
        <h3>ุงูุฃุตูุงู ุงููุถุงูุฉ</h3>
        <div class="row-actions">
          <button id="btnAddFromLib" class="btn">ุฅุถุงูุฉ ุตูู ูู ุงูููุชุจุฉ</button>
          <button id="btnSavePreset" class="btn btn-light">ุญูุธ ููุฌุจุฉ ุฌุงูุฒุฉ</button>
          <button id="btnUsePreset" class="btn btn-light">ูู ูุงูุจ</button>
        </div>
      </div>

      <div class="table-wrap">
        <table class="table" id="itemsTable">
          <thead>
            <tr>
              <th>ุงูุตูู</th>
              <th>ุงูุชูุฏูุฑ ุงูุจูุชู</th>
              <th>ุงููููุฉ</th>
              <th>ุงูุฌุฑุงูุงุช (ูููู)</th>
              <th>ูุงุฑุจ (g)</th>
              <th>ุจุฑูุชูู (g)</th>
              <th>ุฏููู (g)</th>
              <th>ุณุนุฑุงุช (kcal)</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="itemsBody">
            <!-- ุชูุญูู ุงูุตููู ููุง -->
          </tbody>
          <tfoot>
            <tr class="total">
              <td>ุงูุฅุฌูุงูู</td>
              <td></td>
              <td></td>
              <td id="tGrams">0</td>
              <td id="tCarbs">0</td>
              <td id="tProt">0</td>
              <td id="tFat">0</td>
              <td id="tKcal">0</td>
              <td></td>
            </tr>
          </tfoot>
        </table>
      </div>
    </section>

    <!-- ุฃุฒุฑุงุฑ ุงูุญูุธ -->
    <section class="panel center">
      <button id="btnSaveMeal" class="btn primary">๐พ ุญูุธ ุงููุฌุจุฉ</button>
      <button id="btnReset" class="btn">ุฅุนุงุฏุฉ ุงูุถุจุท</button>
      <button id="btnAI" class="btn btn-light">๐ค ุดุงุช ูุณุงุนุฏ</button>
    </section>

  </main>

  <!-- ุณูุฑุจุช ุงูุตูุญุฉ -->
  <script type="module" src="js/meals.js"></script>
</body>
</html>
