<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ูุฌุจุฉ ุงูุทูู</title>

  <!-- ุณุชุงููู ุงูุญุงูู -->
  <link rel="stylesheet" href="css/meals.css" />

  <!-- Firebase compat (ููุณ ุงููู ุนูุฏู) -->
  <script src="https://www.gstatic.com/firebasejs/12.1.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/12.1.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/12.1.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/12.1.0/firebase-storage-compat.js"></script>

  <!-- ุชููุฆุฉ ูุดุฑูุนู: ูุงุฒู ุชููู ุจุงููcompat ูุชุนุฑูู window.db -->
  <script src="js/firebase-config.js"></script>
</head>
<body>

  <main class="container">

    <!-- ุดุฑูุท ุงููุฏู (ุงูุฌุฒุก ุงููู ุนูุฏู ุดุบุงู) -->
    <section class="panel">
      <header class="panel-title">ูุฏู ุงููุงุฑุจ ูููุฌุจุฉ</header>
      <div class="progress-wrap">
        <div id="carbProgress" class="progress"></div>
      </div>
      <div class="muted">
        <span>ุงููุงุฑุจ ุงูุญุงูู: <b id="carbNow">0</b> g</span>
        โข ูู: <b id="carbMin">48</b> g
        โข ุฅูู: <b id="carbMax">60</b> g
      </div>
    </section>

    <!-- ุฃุฒุฑุงุฑ ุงูุฅุฌุฑุงุกุงุช -->
    <section class="panel">
      <div class="hstack gap">
        <button id="btnFromPreset" class="btn">ูู ูุงูุจ</button>
        <button id="btnSavePreset" class="btn">ุญูุธ ููุฌุจุฉ ุฌุงูุฒุฉ</button>
        <button id="btnAddFromLibrary" class="btn primary">ุฅุถุงูุฉ ุตูู ูู ุงูููุชุจุฉ</button>
      </div>
    </section>

    <!-- ุฌุฏูู ุงูุฃุตูุงู -->
    <section class="panel">
      <header class="panel-title">ุงูุฃุตูุงู ุงููุถุงูุฉ</header>
      <div class="table-wrap">
        <table class="table" id="itemsTable">
          <thead>
            <tr>
              <th>ุงูุตูู</th>
              <th>ุงูุชูุฏูุฑ ุงูุจูุชู</th>
              <th>ุงููููุฉ</th>
              <th>ุงูุฌุฑุงูุงุช (ูููู)</th>
              <th>ูุงุฑุจ (g)</th>
              <th>ุจุฑูุชูู (g)</th>
              <th>ุฏููู (g)</th>
              <th>ุณุนุฑุงุช (kcal)</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="itemsBody"></tbody>
          <tfoot>
            <tr class="total">
              <td>ุงูุฅุฌูุงูู</td>
              <td></td>
              <td></td>
              <td id="tGrams">0</td>
              <td id="tCarbs">0</td>
              <td id="tProt">0</td>
              <td id="tFat">0</td>
              <td id="tKcal">0</td>
              <td></td>
            </tr>
          </tfoot>
        </table>
      </div>
    </section>

    <!-- ุฃุฒุฑุงุฑ ุงูุญูุธ -->
    <section class="panel center">
      <button id="btnSaveMeal" class="btn primary">๐พ ุญูุธ ุงููุฌุจุฉ</button>
      <button id="btnReset" class="btn">ุฅุนุงุฏุฉ ุงูุถุจุท</button>
      <button id="btnAI" class="btn btn-light">๐ค ุดุงุช ูุณุงุนุฏ</button>
    </section>

  </main>

  <!-- ููุฏุงู ููุชุจุฉ ุงูุฃุตูุงู -->
  <div id="libModal" class="modal hidden" aria-hidden="true">
    <div class="modal-card">
      <div class="modal-head">
        <div class="grid">
          <input id="libSearch" class="input" placeholder="ุงุจุญุซ ุจุงูุงุณู ุฃู #ูุณู" />
          <select id="libCategory" class="input">
            <option value="">ุงูุชุตููู: ุงููู</option>
            <option value="ูุดููุงุช">ูุดููุงุช</option>
            <option value="ุฎุถุฑูุงุช">ุฎุถุฑูุงุช</option>
            <option value="ููุงูู">ููุงูู</option>
            <option value="ูุดุฑูุจุงุช">ูุดุฑูุจุงุช</option>
            <option value="ุฃุฎุฑู">ุฃุฎุฑู</option>
          </select>
        </div>
        <button id="libClose" class="btn icon">โ</button>
      </div>

      <div id="libList" class="cards"></div>
      <div class="modal-foot">
        <span class="muted" id="libCount">0 ุตูู</span>
      </div>
    </div>
  </div>

  <!-- ููุฏุงู ุฅุถุงูุฉ/ุชูุฏูุฑ -->
  <div id="addModal" class="modal hidden" aria-hidden="true">
    <div class="modal-card">
      <div class="modal-head">
        <h3 id="addTitle" class="panel-title">ุฅุถุงูุฉ ุตูู</h3>
        <button id="addClose" class="btn icon">โ</button>
      </div>
      <div class="grid">
        <div>
          <label class="lbl">ุงููุญุฏุฉ</label>
          <select id="addUnit" class="input"></select>
        </div>
        <div>
          <label class="lbl">ุงููููุฉ</label>
          <input id="addQty" class="input" type="number" step="0.25" min="0.25" value="1" />
        </div>
      </div>
      <div class="modal-foot">
        <button id="addConfirm" class="btn primary">ุฅุถุงูุฉ</button>
        <button id="addCancel" class="btn">ุฅูุบุงุก</button>
      </div>
    </div>
  </div>

  <!-- ุณูุฑุจุช ุงูุตูุญุฉ -->
  <script src="js/meals.js"></script>
</body>
</html>
