<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>لوحة الأدمن</title>

  <!-- خطوط -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="./css/admin.css?v=2025-09-01">
  <link rel="stylesheet" href="./css/food-items.css?v=2025-09-01">
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <span class="logo">A</span>
      <span class="title">لوحة الأدمن</span>
    </div>
    <nav class="tabs">
      <button class="tab-btn" data-tab="requests">طلبات</button>
      <button class="tab-btn" data-tab="links">ربط</button>
      <button class="tab-btn active" data-tab="foods">الأصناف</button>
    </nav>
  </header>

  <main class="container">
    <!-- تبويب الطلبات -->
    <section id="tab-requests" class="tab">
      <div class="card">
        <h2>طلبات الأطباء/الأهالي</h2>
        <p class="muted">هنا هيظهر جدول الطلبات…</p>
      </div>
    </section>

    <!-- تبويب الربط -->
    <section id="tab-links" class="tab">
      <div class="card">
        <h2>إدارة أكواد الربط</h2>
        <p class="muted">هنا هتظهر أكواد الربط…</p>
      </div>
    </section>

    <!-- تبويب الأصناف -->
    <section id="tab-foods" class="tab active">
      <div class="card">
        <h2>مكتبة الأصناف العامة</h2>

        <!-- أدوات -->
        <div class="toolbar">
          <button id="btnNew" class="primary">➕ إضافة صنف</button>
          <input id="q" type="text" placeholder="بحث عن صنف..." />
        </div>

        <!-- شبكة العرض -->
        <div id="grid" class="grid"></div>

        <!-- نافذة النموذج -->
        <dialog id="dlg">
          <form id="form" method="dialog">
            <!-- صورة المنتج -->
            <div class="image-block" style="display:flex;align-items:center;gap:12px;margin:8px 0 14px;">
              <img id="img" src="" alt="صورة الصنف" style="width:60px;height:60px;object-fit:cover;border-radius:8px;border:1px solid #e5e8ef;cursor:pointer;" />
              <input id="file" type="file" accept="image/*" style="display:none;" />
              <div class="muted">انقري على الصورة لاختيار صورة (اختياري)</div>
            </div>

            <!-- بيانات التغذية -->
            <div class="form-grid">
              <label>الاسم *</label>
              <input id="name" type="text" required />

              <label>الفئة</label>
              <input id="category" type="text" placeholder="مثل: خضار، ألبان…" />

              <label>البراند</label>
              <input id="brand" type="text" />

              <label>كارب/100جم</label>
              <input id="carbs" type="number" step="any" />

              <label>ألياف/100جم</label>
              <input id="fiber" type="number" step="any" />

              <label>بروتين/100جم</label>
              <input id="prot" type="number" step="any" />

              <label>دهون/100جم</label>
              <input id="fat" type="number" step="any" />

              <label>سعرات/100جم</label>
              <input id="cal" type="number" step="any" />

              <label>GI</label>
              <input id="gi" type="number" step="any" />
            </div>

            <!-- المقادير البيتية -->
            <div class="measures-block">
              <div id="measList" class="meas-list"></div>
              <div class="meas-add">
                <input id="measName" type="text" placeholder="مثال: كوب" />
                <input id="measGrams" type="number" step="any" placeholder="جرام" />
                <button id="btnAddMeas" type="button" class="secondary">إضافة مقياس</button>
              </div>
            </div>

            <!-- أزرار التحكم -->
            <div class="actions">
              <button id="btnSave" class="primary" type="submit">حفظ</button>
              <button id="btnReset" type="button">إلغاء</button>
              <button id="btnDelete" type="button" class="danger">حذف</button>
            </div>
          </form>
        </dialog>
      </div>
    </section>
  </main>

  <!-- سكربت التحكم في التابات -->
  <script type="module" src="./js/admin.js?v=2025-09-01"></script>

  <!-- سكربت الأصناف -->
  <script type="module" src="./js/food-items.js?v=2025-09-01"></script>
</body>
</html>
